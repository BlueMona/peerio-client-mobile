@import "_vars";
/**
 * Topmost navigation bar with menu toggle, search input, etc
 */
// navbar container
#navbar {
  position: absolute;
  display: table;
  top: 0;
  left: 0;
  right: 0;
  width: 100%;
  height: $navbar-height;
  color: white;
  background-color: $p-blue-darker;
  font-size: $navbar-font-size;
  z-index: $z-navbar;

  .logo{
    display: table-cell;
    width: 45px;
    padding: 7px 0 0 5px;
    vertical-align: middle;
    .peerio-logo{
      width:22px;
      height:22px;
    }
  }
}

#sidemenu-toggle, #app-lock, #search {
  display: table-cell;
  width: 45px;
  vertical-align: middle;
  text-align: center;
}

// navbar section: search block
#search {
  position: relative;
  width:auto;
}
// input with search keywords
#search-keyword {
  height: 100%;
  width: 100%;
  padding: 0 33px 0 5px;
  background-color: #49647e;
  border: none;
  font-weight: 200;
  font-size: 13px;
  text-align: left;
}
// search button
#search-button {
  position: absolute;
  right: 0;
  top:0;
  height: 100%;
  width: 30px;
  padding-top: 10px;
  text-align: center;
}

/**
 * Secondary navigation bar with tab selectors (messages, files, contacts)
 */
#tabbar {
  position: absolute;
  display: table;
  top: $navbar-height;
  left: 0;
  right: 0;
  width: 100%;
  height: $tabbar-height;
  color: white;
  background-color: $p-blue-light-5;
  font-size: 13px;
  z-index: $z-tabbar;
  .tab {
    display: table-cell;
    text-align: center;
    padding-top: 8px;
    width: 33.33333%;
    &.active {
      color: #fff;
      background: $p-blue-light-15 linear-gradient(to bottom, #278fda 0%, #81bde5 150%)
    }
    .badge {
      position: relative;
      top: -1px;
      left: 3px;
      height: 16px;
      color: $p-green-light-10;
      font-size: 7px;
    }
  }
}

@include keyframes(connecting) {
  from {
    background-color: #ff0000;
  }
  to   {
    background-color: #cc0000;
   }
}
@include keyframes(loading){
  from { background-position-x: 0%; }
  to   { background-position-x: 200%;    }
}

#connection-status{
  position:absolute;
  bottom:0;
  left:0;
  right:0;
  height:2px;
  background-color: #ff0000;
  @include animation(connecting 1s ease 0s infinite alternate);
  &.connected{
    //height:1px;
    background-color: $p-green;
    @include animation(none);
  }
  &.loading{
   // height:1px;
    background-size: 200% !important; // without !important does not apply, looks like a bug
    background: linear-gradient(to right, rgba(57,150,53,1) 20%, rgba(201,222,150,1)  50%, rgba(57,150,53,1) 80%);
    @include animation(loading 1.5s linear 0s infinite reverse);
  }
}

/**
 * Footer bar
 */
#footer{
  position: absolute;
  display: table;
  bottom: 0;
  left:0;
  right:0;
  width: 100%;
  height: $footer-height;
  color: #ccc;
  background-color: $p-blue-darker;
  font-size: 13px;;
  z-index: $z-tabbar;
}
// back button
#global-back{
  display: table-cell;
  vertical-align: middle;
  width: auto;
  text-align: left;
  padding-left:10px;
  white-space: nowrap;
  text-transform:uppercase;
}
.toolbar-fill{
  display:table-cell;
  width:100%;
}
.accept-button{
  display:table-cell;
  padding:0 15px 0 15px;
  vertical-align: middle;
  white-space: nowrap;
  background-color: #156949;
  color:white;
  min-width: 120px;
  text-align: center;
}
/**
 * Sliding sidebar with menu
 */
#sidebar {
  position: absolute;
  z-index: $z-sidebar;
  @include transition(transform .3s cubic-bezier(.43,.01,.49,.95));
  @include transform(translateX(-101%));
  width: 80%;
  top: $navbar-height;
  bottom: 0;
  height:100%;
  background-color: $sidebar-bg-color;
  padding: 25px 0 0;
  color: white;
  font-size: 1.2rem;
  .app-version{
    position: absolute;
    top: 3px;
    right: 3px;
    font-size: 70%;
    color: #9E9E9E;
  }
  &.open {
    @include transform(translateX(0));
    @include transition-duration(.7s);
  }
  ul{
    list-style: none;
    padding-left:10px;
    li {
      margin-bottom: 15px;
      font-size: 1.2rem;
      font-weight: 100;
      font-variant: small-caps;
      text-transform: uppercase;
      &.hr{
        margin-left: -10px;
        background-color: #4D606E;
        height:1px;
      }
      &.header{
        color: #BDBDBD;
        font-size: 1rem;
        border-left: 2px solid #bdbdbd;
        padding-left: 7px;
        margin-left: -10px;
      }
    }
  }
}
// dark semi-transulent div under sidemenu
// it dims the content part that is not covered by sidemenu
#sidebar-dimmer{
  position: absolute;
  top:$navbar-height;
  // hiding it with left position because this way we will have an opacity transition on showing
  // and fast hide on sidebar closing
  left:-150%;
  bottom:0;
  width:100%;
  height:100%;
  z-index: ($z-sidebar - 1);
  background-color: #000;
  @include transition(none);
  opacity: 0;
  &.open {
    left:0;
    background-color: #000;
    @include transition(opacity 200ms 500ms linear);
    opacity: 0.4;
  }
}
